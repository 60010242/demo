<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>ร้านขายของน้องหมา </title>
<link href="https://fonts.googleapis.com/css2?family=Bai+Jamjuree:wght@300;400&display=swap" rel="stylesheet">
<style type="text/css">
/* Color Variables */
:root {
  --brown: #cbaf87;
  --x: #c7b198;
  --brown2: #f4ebc1;
}

body{
	font-family: 'Bai Jamjuree', sans-serif;
	/*height: 100vh;*/
	display: flex;
	background-color: var(--brown2);
	color: gray;
}

.center{
  	display: flex;
	align-items: center;
	justify-content: center;
}


.sellerheader {
	position: fixed;
	top: 0;
	left: 0;
	background-color: var(--brown);
	color: white;
	font-size: 20pt;
	height: 60px;
	width: 100%;
	box-shadow: 2px 2px 5px gray;
}
.tabheadersecond {
	padding: 2%;
	position: fixed;
	top: 60px;
	left: 0;
	width: 100%;
}
details {
	margin-top: 100px;
	width: 100%;
	border: 2px gray solid;
}
summary{
	background-color: #e7d39f;
	height: 30pt;
	display: flex;
	align-items: center;
	padding-left: 2%;
}
.tableheader{
	background-color: #e4e4e4;
}
.maintable{
	background-color: gray;
	width: 100%;
}
.maintable tr, .maintable td {
	background-color: var(--brown2);
}

.btncheck{
	background-color: #79d70f;
	color: white;
	width: 40pt;
	height: 22pt;
	border: none;
	border-radius: 22px;
	box-shadow: 2px 2px 5px gray;
	cursor: pointer;
	display: inline-block;
}

.checked{
	position: relative;
	background-color: white;
	width: 50%;
	height: 80%;
	cursor: default;
	flex-flow: column;
}
.checked iframe{
	width: 100%;
	height: 100%;
	border: none;
}
#overlay, #overlaydetail {
  position: fixed;
  visibility: hidden;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  background-color: rgba(0,0,0,0.5);
  z-index: 2;
  cursor: pointer;
}
.tabletrack{
	width: 100%;
	overflow-y: scroll;
}
.tabletrack>th, .tabletrack>td{
	text-align: left;
	padding: 2% 0 2% 0;
}
.img{
	background-color: gray;
	width: 200px;
	height: 200px;
}
.overlayheader{
	position: fixed;
	top: 0;
	left: 0;
	font-size: 16pt;
	text-align: center;
	height: 50pt;
	/*padding: 2% 0 2% 0;*/
	width: 100%;
	background-color: white/*var(--brown)*/;
	color: gray/*white*/;
	box-shadow: 2px 2px 2px gray;
}
.overlayconfirm{
	position: fixed;
	bottom: 0;
	left: 0;
	font-size: 16pt;
	text-align: center;
	height: 40pt;
	width: 100%;
	background-color:  #79d70f;
	border: none;
	color: white;
	box-shadow: 2px -2px 2px gray;
}

.idproduct{
	position: fixed;
	top: 2pt;
	left: 2pt;
	color: gray;
	z-index: 2;
}
.imgproduct{
	border-radius: 50px;
	background-color: white;
	width: 50px;
	height: 50px;
	box-shadow: 2px 2px 5px gray; 
}
.right{
	text-align: right;
}
.left{
	text-align: left;
}
hr {
  border: 0;
  display: block;
  background-color: gray;
  height: 2px;
}
.container{
	width: 80%;
}
.overlayheader{
	position: absolute;
	top: 0;
	left: 0;
	font-size: 16pt;
	text-align: center;
	padding: 2% 0 2% 0;
	width: 100%;
	background-color: var(--brown);
	color: white;
	box-shadow: 2px 2px 2px gray;
}
.overlayconfirm{
	position: absolute;
	bottom: 0;
	left: 0;
	font-size: 16pt;
	text-align: center;
	padding: 2% 0 2% 0;
	width: 100%;
	background-color:  #79d70f;
	border: none;
	color: white;
	box-shadow: 2px -2px 2px gray;
}
#detaildata{
	position: absolute;
	font-size: 10pt;
	right: 2%;
	bottom: 2%;
	text-decoration: underline;
	cursor: pointer;
}
.tabledetail:first-child{
	width: 20px;
}
.back{
	position: absolute;
	top: 0;
	left: 10pt;
	text-decoration: none;
	font-size: 30pt;
	color: white;
}
</style>
<script>
function on() {
	  document.getElementById("overlay").style.visibility = "visible";
}

function off() {
	  document.getElementById("overlay").style.visibility = "hidden";
}

function ondetail() {
	var valueTD1 = document.getElementById( "valueTD1" ).innerText;
	var valueTD2 = document.getElementById("valueTD2").innerText;
	var valueTD5 = document.getElementById("valueTD5").value;
	var valueTD6 = document.getElementById("valueTD6").value;
	document.getElementById("overlaydetail").style.visibility = "visible";
	document.getElementById("overlaytableTD1").innerHTML = valueTD1;
  	document.getElementById("overlaytableTD2").innerHTML = valueTD2;
  	document.getElementById("overlaytableTD5").innerHTML = valueTD5;
  	document.getElementById("overlaytableTD6").innerHTML = valueTD6;
}

function offdetail() {
	document.getElementById("overlaydetail").style.visibility = "hidden";
}
</script>
</head>
<body>
	<div class="sellerheader center">ต้องจัดส่ง </div>
	<a href="/firstpage" class="back"><</a>
	<!-- List order from database -->
	<div class="center" id="overlaydetail" onclick="offdetail()">
		<div class="checked center">
			<div class="overlayheader center">รายละเอียดเพิ่มเติม </div>
			<table class="tabledetail" style="width: 80%;">
				<tr>
					<td>รหัส order</td>
					<td id="overlaytableTD1"></td>
				</tr>
				<tr>
					<td>ชื่อผู้ซื้อ </td>
					<td id="overlaytableTD2"></td>
				</tr>
				<tr>
					<td>รายการ </td>
					<td>ราคา </td>
				</tr>
				<tr id="overlaytableTD4"> <!-- each -->
					<td>รายการ </td>
					<td>ราคา </td>
				</tr>
				<tr>
					<td>ยอดรวม </td>
					<td id="overlaytableTD5"></td>
				</tr>
				<tr>
					<td>ที่อยู่</td>
					<td id="overlaytableTD6"></td>
				</tr>
			</table>
		</div>
	</div>
	<div class="tabheadersecond">
		<select>
			<option>ไปรษณีย์ไทย</option>
			<option>EMS</option>
			<option>KERRY</option>
		</select>
		<a href="#">ปริ๊นชื่อ-ที่อยู่ผู้ซื้อทั้งหมด</a>
	</div>
	<details>
		<summary>กันยายน 2563</summary>
		<table class="maintable">
		<tr class="tableheader">
			<th style="height:30pt; width: 10%" > รหัสสั่งซื้อ </th>
			<th style="height:30pt; width: 20%"> ชื่อผู้ซื้อ </th>
			<th style="height:30pt; width: 50%">  รายการ </th>
			<th style="height:30pt; width: 20%">เพิ่ม Track </th>
		</tr>
		<tr th:each="userorder: ${userorders}">
				<td th:text="${'#'+ userorder.getIdOrder()}" id="valueTD1"></td>
				<td th:text="${userorder.getUserprofile().getName()}" id="valueTD2"></td>
				<td style="position: relative;" >
					<ul>
						<li th:each="orderlist: ${orderlists}" th:if="${orderlist.getIdOrder()==userorder.getIdOrder()}"> 
							<span th:text="${orderlist.getProductdetail().getNameProduct()}"></span>
							<span th:text="${' x'+ orderlist.getNumber()}"></span>
			  			</li>
					</ul>
					<a onclick="ondetail()" id="detaildata">รายละเอียดเพิ่มเติม </a>
				</td>
			<td style="text-align: center;">
				<form action="#" th:action="@{'/trantocomplete/' + ${userorder.getIdOrder()}}" method="post">
					<input style="width: 100pt;" type="text" name="numtrack">
					<input type="submit" value="ยืนยัน">
				</form>
			</td>
			<input type="hidden" th:value="${userorder.getTotalOrder()}" id="valueTD5">
			<input type="hidden" th:value="${userorder.getUserprofile().getAddress()}" id="valueTD6">
		</tr>
		</table>
	</details>
</body>
</html>