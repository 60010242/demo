<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>ร้านขายของน้องหมา</title>
<base href="http://127.0.0.1:7070/">
<link rel="stylesheet" th:href="@{/CSS/Sfirstpage.css}">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<style type="text/css">
.tabcat-container {
	top: 100pt;
	width: 100%;
	height: 25pt;
  	overflow: hidden;
	z-index: 800;
}

.tabcat-container td{
	padding: 0;
	width: 100%;
}

.tabcat{
	background-color: inherit;
  	float: left;
  	border: none;
  	outline: none;
  	cursor: pointer;
  	line-height: 25pt;
  	width: 100%;
  	transition: 0.3s;
  	font-size: 15px;
  	text-align: center;
  	font-weight: normal;
  	color: var(--grey);
}

.tabcat-container td a.active {
	background-color: rgba(255,255,255,60%);
	border-radius: 15px 0 0 15px;
	border-top: 2px solid transparent;
  	border-bottom: 2px solid transparent;
  	border-left: 4px solid var(--blue);
	font-weight: bold;
}

.cataddheader{
	color: var(--blue);
	font-style: italic;
}
</style>
<script type="text/javascript">



$(document).ready(function(){
	
	$('.tabcat-container tr:first-child a').addClass("active");
	$.ajax({url: "/editproduct", success: function(result){
	      $("#editproductmain").html(result);
	}});
	$.ajax({url: "/addcategory", success: function(result){
	      $("#addcatpage").html(result);
	}});
});
	
	
function openTabCat(evt, buyerselectcat) {
	  var i, tabcats, tc;
	  
	  tabcats = document.getElementsByClassName("tabcat");
	  
	  console.log(tabcats[0].className);
	  for (i = 0; i < tabcats.length; i++) {
	    tabcats[i].className = tabcats[i].className.replace(" active", "");
	  }
	  
	  evt.currentTarget.className += " active";
	  
	  $.ajax({url: "/editproduct/" + buyerselectcat, success: function(result){
	    	$("#editproductmain").html(result);
	}});
}

function oncategory() {
	document.getElementById("overlayaddcat").style.visibility = "visible";
}
function off() {
	document.getElementById("overlayaddcat").style.visibility = "hidden";
	document.getElementById("overlayaddproduct").style.visibility = "hidden";
}

</script>
</head>
<body>
<!-- overlay  -->
<div id="overlayaddcat" class="overlayaddcat center">
	<div class="checked">
		<div class="overlayheader center">เพิ่ม Category</div>
		<div id="addcatpage"></div>
		<close onclick="off()">X</close>
	</div>
</div>

<div style="width: 100%;">
<div style="width: 12%; float: left; border: 0; position: fixed;">
<table class="tabcat-container">
	<tr class="center"
		th:each="cat: ${catlist}"
		th:if="${catlist != null}">
		<td>
			<a class="tabcat"
				th:value="${cat.getNameCat()}"
				th:text="${cat.getNameCat()}"
				th:attr="onclick=|openTabCat(event, '${cat.getIdCategory()}')|">
			</a>
		</td>
	</tr>
	<tr class="center">
		<td>
			<a onclick="oncategory()" class="tabcat cataddheader">+addcategory</a>
		</td>
	</tr>
</table>
</div>
<div style="width: 85%; float: right; border: 0;" id="editproductmain"></div>
</div>
</body>
</html>