<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>ร้านขายของน้องหมา</title>
<base href="http://127.0.0.1:7070/">
<link rel="stylesheet" th:href="@{/CSS/Sfirstpage.css}">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<style type="text/css">
.tabcat-container {
	position: fixed;
	top: 100px;
	left: 0;
	width: 100%;
	height: 25pt;
    font-weight: bold;
  	overflow: hidden;
  	box-shadow: 2px 2px 5px gray;
	background-color: var(--browntab);
	z-index: 800;
}

.tabcat-container td{
	padding: 0;
}

.tabcat-container a{
	background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  line-height: 25pt;
  width: 80pt;
  transition: 0.3s;
  font-size: 15px;
  text-align: center;
  color: blue;
}

.tabcat-container a.active {
	color: red;
}

a.cataddheader{
	color: white;
	text-decoration: none;
	vertical-align: middle;
	font-size: 18pt;
	line-height: 25pt;
	cursor: pointer;
}
</style>
<script type="text/javascript">



$(document).ready(function(){
	
	$('.tabcat-container td:first-child a').addClass("active");
	$.ajax({url: "/editproduct", success: function(result){
	      $("#div2").html(result);
	}});
});
	
	
function openTabCat(evt, buyerselectcat) {
	  var i, tabcats, tc;
	  
	  tabcats = document.getElementsByClassName("tabcat");
	  
	  console.log(tabcats[0].className);
	  for (i = 0; i < tabcats.length; i++) {
	    tabcats[i].className = tabcats[i].className.replace(" active", "");
	  }
	  
	  evt.currentTarget.className += " active";
	  
	  $.ajax({url: "/editproduct/" + buyerselectcat, success: function(result){
	    	$("#div2").html(result);
	}});
}

</script>
</head>
<body>


<table>
	<tr class="tabcat-container">
	<td th:each="cat: ${catlist}"
		th:if="${catlist != null}">
		
		<a class="tabcat"
			th:value="${cat.getNameCat()}"
			th:text="${cat.getNameCat()}"
			th:attr="onclick=|openTabCat(event, '${cat.getIdCategory()}')|">
		</a>
	</td>
	
	<td>
		<a href="/addcategory" class="cataddheader">+</a>
	</td>
	
	</tr>
</table>

<div id="div2"></div>

</body>
</html>